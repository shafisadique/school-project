"use strict";(self.webpackChunkmantis_free_version=self.webpackChunkmantis_free_version||[]).push([[6228],{3891:(k,C,l)=>{l.d(C,{e:()=>F});var r=l(1626),E=l(2525),f=l(4438);let F=(()=>{class h{constructor(o){this.http=o,this.apiUrl=E.c.apiUrl}getClassesBySchool(o){return this.http.get(`${this.apiUrl}/api/class-subject-management/classes/${o}`)}getStudentsByClass(o,d){const m=`${this.apiUrl}/api/students/get-student-by-class/${o}`,p=(new r.Nl).set("academicYearId",d);return this.http.get(m,{params:p})}assignRollNumbers(o){return this.http.post(`${this.apiUrl}/api/students/assign-roll-numbers?classId=${o}`,{})}assignRollNumbersAlphabetically(o){return this.http.post(`${this.apiUrl}/api/students/assign-roll-numbers-alphabetically?classId=${o}`,{})}assignRollNumberToStudent(o,d){return this.http.put(`${this.apiUrl}/api/students/${o}/assign-roll-number`,{rollNo:d})}createClass(o){return this.http.post(`${this.apiUrl}/api/class-subject-management/classes`,o)}deleteAssignment(o){return this.http.delete(`${this.apiUrl}/api/class-subject-management/assign-subject`,{body:o})}createSubject(o){return this.http.post(`${this.apiUrl}/api/class-subject-management/subject`,o)}getSubjects(o){return this.http.get(`${this.apiUrl}/api/class-subject-management/subjects/${o}`)}getTeachers(o){return this.http.get(`${this.apiUrl}/api/class-subject-management/teachers/by-school/${o}`)}getCombinedAssignments(o,d){const m=(new r.Nl).set("academicYearId",d);return this.http.get(`${this.apiUrl}/api/class-subject-management/assignments/${o}`,{params:m})}assignSubjectToClass(o,d,m,p){return this.http.post(`${this.apiUrl}/api/class-subject-management/assign-subject`,{classId:o,subjectId:d,teacherId:m,academicYearId:p})}updateAssignment(o){return this.http.put(`${this.apiUrl}/api/class-subject-management/assign-subject`,o)}getAssignmentsByTeacher(o,d,m){let p=(new r.Nl).set("academicYearId",d);return m&&(p=p.set("date",m)),this.http.get(`${this.apiUrl}/api/class-subject-management/assignments/teacher/${o}`,{params:p})}updateAttendanceTeachers(o,d,m){return this.http.put(`${this.apiUrl}/api/class-subject-management/update-attendance-teachers`,{classId:o,attendanceTeacher:d,substituteAttendanceTeachers:m})}getTeacherAttendanceClasses(){return this.http.get(`${this.apiUrl}/api/class-subject-management/teacher-classes`)}static{this.\u0275fac=function(d){return new(d||h)(f.KVO(r.Qq))}}static{this.\u0275prov=f.jDH({token:h,factory:h.\u0275fac,providedIn:"root"})}}return h})()},6228:(k,C,l)=>{l.r(C),l.d(C,{StudentCreateComponent:()=>K});var r=l(9417),E=l(1413),f=l(6977),F=l(177),h=l(3413),e=l(4438),o=l(3891),d=l(3338),m=l(998),p=l(5794);function v(s,i){1&s&&(e.j41(0,"div",53),e.EFF(1," Name is required "),e.k0s())}function g(s,i){1&s&&(e.j41(0,"div",53),e.EFF(1," Minimum 2 characters "),e.k0s())}function _(s,i){1&s&&(e.j41(0,"div",53),e.EFF(1," 10 digits only "),e.k0s())}function j(s,i){1&s&&(e.j41(0,"div",53),e.EFF(1," Gender required "),e.k0s())}function b(s,i){1&s&&(e.j41(0,"div",53),e.EFF(1," DOB required "),e.k0s())}function R(s,i){if(1&s&&(e.j41(0,"option",26),e.EFF(1),e.k0s()),2&s){const n=i.$implicit;e.Y8G("value",n._id),e.R7$(),e.JRh(n.name)}}function I(s,i){1&s&&(e.j41(0,"option",54),e.EFF(1,"No classes available"),e.k0s())}function P(s,i){1&s&&(e.j41(0,"div",53),e.EFF(1," Class required "),e.k0s())}function S(s,i){if(1&s&&(e.j41(0,"option",26),e.EFF(1),e.k0s()),2&s){const n=i.$implicit;e.Y8G("value",n),e.R7$(),e.JRh(n)}}function N(s,i){1&s&&(e.j41(0,"div",53),e.EFF(1," Section required "),e.k0s())}function $(s,i){if(1&s&&(e.j41(0,"option",26),e.EFF(1),e.k0s()),2&s){const n=i.$implicit;e.Y8G("value",n._id),e.R7$(),e.JRh(n.name)}}function D(s,i){1&s&&(e.j41(0,"div",53),e.EFF(1," Route required "),e.k0s())}function y(s,i){if(1&s&&(e.j41(0,"div",13)(1,"label",8),e.EFF(2,"Route "),e.j41(3,"span",9),e.EFF(4,"*"),e.k0s()(),e.j41(5,"select",55)(6,"option",16),e.EFF(7,"Select Route"),e.k0s(),e.DNE(8,$,2,2,"option",22),e.k0s(),e.DNE(9,D,2,0,"div",11),e.k0s()),2&s){const n=e.XpG();e.R7$(8),e.Y8G("ngForOf",n.routes),e.R7$(),e.Y8G("ngIf",n.submitted&&(null==n.f.routeId.errors?null:n.f.routeId.errors.required))}}function T(s,i){if(1&s&&(e.j41(0,"div",53),e.EFF(1),e.k0s()),2&s){const n=e.XpG();e.R7$(),e.JRh(n.fileError)}}function O(s,i){if(1&s&&(e.j41(0,"div",56),e.nrm(1,"img",57),e.k0s()),2&s){const n=e.XpG();e.R7$(),e.Y8G("src",n.imagePreview,e.B4B)}}function M(s,i){1&s&&(e.j41(0,"div",53),e.EFF(1," Address required "),e.k0s())}function A(s,i){1&s&&(e.j41(0,"div",53),e.EFF(1," City required "),e.k0s())}function G(s,i){1&s&&(e.j41(0,"div",53),e.EFF(1," State required "),e.k0s())}function U(s,i){1&s&&(e.j41(0,"div",53),e.EFF(1," Country required "),e.k0s())}function Y(s,i){1&s&&(e.j41(0,"div",53),e.EFF(1," Phone required if name given "),e.k0s())}function B(s,i){1&s&&(e.j41(0,"div",53),e.EFF(1," Phone required if name given "),e.k0s())}function w(s,i){1&s&&(e.j41(0,"div",53),e.EFF(1," Must be exactly 12 digits "),e.k0s())}function L(s,i){if(1&s&&(e.j41(0,"option",26),e.EFF(1),e.k0s()),2&s){const n=i.$implicit;e.Y8G("value",n.value),e.R7$(),e.SpI(" ",n.label," ")}}function q(s,i){if(1&s&&(e.j41(0,"div",32)(1,"div",58),e.EFF(2),e.k0s()()),2&s){const n=e.XpG();e.R7$(2),e.JRh(n.serverError)}}function x(s,i){1&s&&e.nrm(0,"span",59)}let K=(()=>{class s{constructor(n,a,t,c,u){this.fb=n,this.classSvc=a,this.routeSvc=t,this.studentSvc=c,this.toastr=u,this.submitted=!1,this.loading=!1,this.classList=[],this.sectionList=["A","B","C","D","E"],this.routes=[],this.selectedFile=null,this.imagePreview=null,this.fileError="",this.serverError="",this.showRouteField=!1,this.apaarStatusOptions=[{value:"not_generated",label:"Not Generated Yet"},{value:"pending",label:"Pending Generation"},{value:"consent_pending",label:"Consent Form Pending"},{value:"refused",label:"Parent Refused Consent"},{value:"mismatch_error",label:"Aadhaar Mismatch / Error"},{value:"generated",label:"Generated (Has APAAR ID)"}],this.destroy$=new E.B,this.schoolId=localStorage.getItem("schoolId")}ngOnInit(){this.initForm(),this.loadClasses(),this.loadRoutes(),this.watchTransport(),this.watchApaarId()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}initForm(){this.form=this.fb.group({name:["",[r.k0.required,r.k0.minLength(2),r.k0.maxLength(100)]],email:[""],phone:["",[r.k0.pattern(/^\d{10}$/)]],dateOfBirth:["",r.k0.required],gender:["",r.k0.required],classId:["",r.k0.required],section:["",r.k0.required],address:["",[r.k0.required,r.k0.maxLength(200)]],city:["",[r.k0.required,r.k0.maxLength(100)]],state:["",[r.k0.required,r.k0.maxLength(100)]],country:["",[r.k0.required,r.k0.maxLength(100)]],usesTransport:[!1],routeId:[""],usesHostel:[!1],fatherName:[""],fatherPhone:[""],motherName:[""],motherPhone:[""],apaarId:["",[r.k0.pattern(/^\d{12}$/)]],apaarStatus:["not_generated",r.k0.required],apaarNotes:[""]})}get f(){return this.form.controls}watchTransport(){this.form.get("usesTransport")?.valueChanges.pipe((0,f.Q)(this.destroy$)).subscribe(n=>{const a=this.form.get("routeId");n?(this.showRouteField=!0,a?.setValidators(r.k0.required)):(this.showRouteField=!1,a?.setValue(""),a?.clearValidators()),a?.updateValueAndValidity()}),this.showRouteField=!0===this.form.get("usesTransport")?.value}watchApaarId(){this.form.get("apaarId")?.valueChanges.pipe((0,f.Q)(this.destroy$)).subscribe(n=>{n&&/^\d{12}$/.test(n.trim())&&this.form.get("apaarStatus")?.setValue("generated")})}loadClasses(){this.classSvc.getClassesBySchool(this.schoolId).pipe((0,f.Q)(this.destroy$)).subscribe({next:n=>this.classList=n.data||n||[],error:()=>{this.toastr.error("Failed to load classes"),this.classList=[]}})}loadRoutes(){this.routeSvc.getRoutes().pipe((0,f.Q)(this.destroy$)).subscribe({next:n=>this.routes=n.data||[],error:()=>this.toastr.error("Failed to load routes")})}onFileSelect(n){const a=n.target.files[0];if(!a)return;if(!["image/png","image/jpeg","image/jpg"].includes(a.type))return void(this.fileError="Only PNG/JPG/JPEG allowed");if(a.size>2097152)return void(this.fileError="Max 2 MB");this.selectedFile=a,this.fileError="";const t=new FileReader;t.onload=()=>this.imagePreview=t.result,t.readAsDataURL(a)}onSubmit(){if(this.submitted=!0,this.serverError="",this.fileError=this.selectedFile?"":"Profile picture required",this.form.invalid||!this.selectedFile)return;this.loading=!0;const n=this.buildFormData();this.studentSvc.createStudent(n).pipe((0,f.Q)(this.destroy$)).subscribe({next:()=>{this.toastr.success("Student added successfully"),this.resetForm()},error:a=>{this.serverError=this.parseError(a),this.toastr.error(a.error?.message||"Failed to add student"),this.loading=!1}})}buildFormData(){const n=new FormData,a=this.form.value;Object.keys(a).forEach(c=>{const u=a[c];if(null!=u&&""!==u){if("phone"===c&&!/^\d{10}$/.test(u))return;n.append(c,u)}}),n.append("section[]",a.section);const t={};return["fatherName","fatherPhone","motherName","motherPhone"].forEach(c=>{const u=a[c]?.trim();u&&(t[c]=u)}),Object.keys(t).length&&n.append("parents",JSON.stringify(t)),n.append("apaarId",(a.apaarId||"").toString()),n.append("apaarStatus",a.apaarStatus||"not_generated"),n.append("apaarNotes",(a.apaarNotes||"").trim()),a.apaarNotes?.trim()&&n.append("apaarNotes",a.apaarNotes.trim()),n.append("profileImage",this.selectedFile),n}parseError(n){const a=n.error?.message||"";return a.includes("parent")?"At least one parent name required":a.includes("phone")?"Parent phone required if name given":a.includes("route")?"Route required for transport":a.includes("APAAR")?"Invalid APAAR ID (must be 12 digits)":a||"Server error"}resetForm(){this.form.reset({usesTransport:!1,usesHostel:!1,email:"",phone:"",fatherName:"",fatherPhone:"",motherName:"",motherPhone:"",apaarId:"",apaarStatus:"not_generated",apaarNotes:""}),this.selectedFile=null,this.imagePreview=null,this.submitted=!1,this.loading=!1,this.showRouteField=!1}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(r.ok),e.rXU(o.e),e.rXU(d.v),e.rXU(m.b),e.rXU(p.tw))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-student-create"]],decls:188,vars:30,consts:[[1,"container-fluid","py-3","py-md-4"],[1,"row","justify-content-center"],[1,"col-12","col-lg-10","col-xl-9"],["cardTitle","Add New Student"],["enctype","multipart/form-data","novalidate","",3,"ngSubmit","formGroup"],[1,"row","g-3"],[1,"form-section"],[1,"col-12","col-md-6"],[1,"form-label"],[1,"text-danger"],["type","text","formControlName","name","placeholder","Full name",1,"form-control","form-control-sm"],["class","text-danger small mt-1",4,"ngIf"],["type","email","formControlName","email","placeholder","student@example.com",1,"form-control","form-control-sm"],[1,"col-12","col-md-4"],["type","number","formControlName","phone","placeholder","10 digits",1,"form-control","form-control-sm"],["formControlName","gender",1,"form-select","form-select-sm"],["value",""],["value","Male"],["value","Female"],["value","Other"],["type","date","formControlName","dateOfBirth",1,"form-control","form-control-sm"],["formControlName","classId",1,"form-select","form-select-sm"],[3,"value",4,"ngFor","ngForOf"],["disabled","",4,"ngIf"],["formControlName","section",1,"form-select","form-select-sm"],["formControlName","usesTransport",1,"form-select","form-select-sm"],[3,"value"],["class","col-12 col-md-4",4,"ngIf"],["formControlName","usesHostel",1,"form-select","form-select-sm"],[1,"row","g-3","align-items-center"],["type","file","accept","image/png,image/jpeg,image/jpg",1,"form-control","form-control-sm",3,"change"],["class","col-12 col-md-6 text-center",4,"ngIf"],[1,"col-12"],["type","text","formControlName","address","placeholder","House, Street, Area",1,"form-control","form-control-sm"],["type","text","formControlName","city",1,"form-control","form-control-sm"],["type","text","formControlName","state",1,"form-control","form-control-sm"],["type","text","formControlName","country","value","India",1,"form-control","form-control-sm"],["role","alert",1,"alert","alert-info","small","p-2"],["type","text","formControlName","fatherName",1,"form-control","form-control-sm"],["type","text","formControlName","fatherPhone","placeholder","10 digits",1,"form-control","form-control-sm"],["type","text","formControlName","motherName",1,"form-control","form-control-sm"],["type","text","formControlName","motherPhone","placeholder","10 digits",1,"form-control","form-control-sm"],[1,"form-section","mt-4"],[1,"text-muted"],[1,"col-12","col-md-5"],["type","text","formControlName","apaarId","placeholder","12-digit number","maxlength","12",1,"form-control","form-control-sm"],["formControlName","apaarStatus",1,"form-select","form-select-sm"],[1,"col-12","col-md-3"],["type","text","formControlName","apaarNotes","placeholder","e.g. Parent refused",1,"form-control","form-control-sm"],["class","col-12",4,"ngIf"],[1,"col-12","d-flex","justify-content-end","gap-2"],["type","submit",1,"btn","btn-primary","btn-sm",3,"disabled"],["class","spinner-border spinner-border-sm me-1",4,"ngIf"],[1,"text-danger","small","mt-1"],["disabled",""],["formControlName","routeId",1,"form-select","form-select-sm"],[1,"col-12","col-md-6","text-center"],["alt","Preview",1,"img-thumbnail",2,"max-height","110px",3,"src"],[1,"alert","alert-danger","small","p-2"],[1,"spinner-border","spinner-border-sm","me-1"]],template:function(a,t){if(1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"app-card",3)(4,"form",4),e.bIt("ngSubmit",function(){return t.onSubmit()}),e.j41(5,"div",5)(6,"fieldset",6)(7,"legend"),e.EFF(8,"Personal Details"),e.k0s(),e.j41(9,"div",5)(10,"div",7)(11,"label",8),e.EFF(12,"Name "),e.j41(13,"span",9),e.EFF(14,"*"),e.k0s()(),e.nrm(15,"input",10),e.DNE(16,v,2,0,"div",11)(17,g,2,0,"div",11),e.k0s(),e.j41(18,"div",7)(19,"label",8),e.EFF(20,"Email"),e.k0s(),e.nrm(21,"input",12),e.k0s(),e.j41(22,"div",13)(23,"label",8),e.EFF(24,"Phone"),e.k0s(),e.nrm(25,"input",14),e.DNE(26,_,2,0,"div",11),e.k0s(),e.j41(27,"div",13)(28,"label",8),e.EFF(29,"Gender "),e.j41(30,"span",9),e.EFF(31,"*"),e.k0s()(),e.j41(32,"select",15)(33,"option",16),e.EFF(34,"Select"),e.k0s(),e.j41(35,"option",17),e.EFF(36,"Male"),e.k0s(),e.j41(37,"option",18),e.EFF(38,"Female"),e.k0s(),e.j41(39,"option",19),e.EFF(40,"Other"),e.k0s()(),e.DNE(41,j,2,0,"div",11),e.k0s(),e.j41(42,"div",13)(43,"label",8),e.EFF(44,"Date of Birth "),e.j41(45,"span",9),e.EFF(46,"*"),e.k0s()(),e.nrm(47,"input",20),e.DNE(48,b,2,0,"div",11),e.k0s(),e.j41(49,"div",7)(50,"label",8),e.EFF(51,"Class "),e.j41(52,"span",9),e.EFF(53,"*"),e.k0s()(),e.j41(54,"select",21)(55,"option",16),e.EFF(56,"Select Class"),e.k0s(),e.DNE(57,R,2,2,"option",22)(58,I,2,0,"option",23),e.k0s(),e.DNE(59,P,2,0,"div",11),e.k0s(),e.j41(60,"div",7)(61,"label",8),e.EFF(62,"Section "),e.j41(63,"span",9),e.EFF(64,"*"),e.k0s()(),e.j41(65,"select",24)(66,"option",16),e.EFF(67,"Select Section"),e.k0s(),e.DNE(68,S,2,2,"option",22),e.k0s(),e.DNE(69,N,2,0,"div",11),e.k0s()()(),e.j41(70,"fieldset",6)(71,"legend"),e.EFF(72,"Facility Usage"),e.k0s(),e.j41(73,"div",5)(74,"div",13)(75,"label",8),e.EFF(76,"Transport"),e.k0s(),e.j41(77,"select",25)(78,"option",26),e.EFF(79,"No"),e.k0s(),e.j41(80,"option",26),e.EFF(81,"Yes"),e.k0s()()(),e.DNE(82,y,10,2,"div",27),e.j41(83,"div",13)(84,"label",8),e.EFF(85,"Hostel"),e.k0s(),e.j41(86,"select",28)(87,"option",26),e.EFF(88,"No"),e.k0s(),e.j41(89,"option",26),e.EFF(90,"Yes"),e.k0s()()()()(),e.j41(91,"fieldset",6)(92,"legend"),e.EFF(93,"Profile Picture "),e.j41(94,"span",9),e.EFF(95,"*"),e.k0s()(),e.j41(96,"div",29)(97,"div",7)(98,"input",30),e.bIt("change",function(u){return t.onFileSelect(u)}),e.k0s(),e.DNE(99,T,2,1,"div",11),e.k0s(),e.DNE(100,O,2,1,"div",31),e.k0s()(),e.j41(101,"fieldset",6)(102,"legend"),e.EFF(103,"Address"),e.k0s(),e.j41(104,"div",5)(105,"div",32)(106,"label",8),e.EFF(107,"Full Address "),e.j41(108,"span",9),e.EFF(109,"*"),e.k0s()(),e.nrm(110,"input",33),e.DNE(111,M,2,0,"div",11),e.k0s(),e.j41(112,"div",13)(113,"label",8),e.EFF(114,"City "),e.j41(115,"span",9),e.EFF(116,"*"),e.k0s()(),e.nrm(117,"input",34),e.DNE(118,A,2,0,"div",11),e.k0s(),e.j41(119,"div",13)(120,"label",8),e.EFF(121,"State "),e.j41(122,"span",9),e.EFF(123,"*"),e.k0s()(),e.nrm(124,"input",35),e.DNE(125,G,2,0,"div",11),e.k0s(),e.j41(126,"div",13)(127,"label",8),e.EFF(128,"Country "),e.j41(129,"span",9),e.EFF(130,"*"),e.k0s()(),e.nrm(131,"input",36),e.DNE(132,U,2,0,"div",11),e.k0s()()(),e.j41(133,"fieldset",6)(134,"legend"),e.EFF(135,"Parents' Details"),e.k0s(),e.j41(136,"div",37),e.EFF(137," At least one parent name and phone is required. "),e.k0s(),e.j41(138,"div",5)(139,"div",7)(140,"label",8),e.EFF(141,"Father's Name"),e.k0s(),e.nrm(142,"input",38),e.k0s(),e.j41(143,"div",7)(144,"label",8),e.EFF(145,"Father's Phone"),e.k0s(),e.nrm(146,"input",39),e.DNE(147,Y,2,0,"div",11),e.k0s(),e.j41(148,"div",7)(149,"label",8),e.EFF(150,"Mother's Name"),e.k0s(),e.nrm(151,"input",40),e.k0s(),e.j41(152,"div",7)(153,"label",8),e.EFF(154,"Mother's Phone"),e.k0s(),e.nrm(155,"input",41),e.DNE(156,B,2,0,"div",11),e.k0s()()(),e.j41(157,"fieldset",42)(158,"legend"),e.EFF(159,"APAAR ID "),e.j41(160,"small",43),e.EFF(161,"(One Nation One Student ID)"),e.k0s()(),e.j41(162,"div",37),e.EFF(163," APAAR ID is recommended for UDISE+ submission. If not available, select appropriate status below. "),e.k0s(),e.j41(164,"div",5)(165,"div",44)(166,"label",8),e.EFF(167,"APAAR ID"),e.k0s(),e.nrm(168,"input",45),e.DNE(169,w,2,0,"div",11),e.j41(170,"small",43),e.EFF(171,"Leave blank if not generated yet"),e.k0s()(),e.j41(172,"div",13)(173,"label",8),e.EFF(174,"Status "),e.j41(175,"span",9),e.EFF(176,"*"),e.k0s()(),e.j41(177,"select",46),e.DNE(178,L,2,2,"option",22),e.k0s()(),e.j41(179,"div",47)(180,"label",8),e.EFF(181,"Notes (Optional)"),e.k0s(),e.nrm(182,"input",48),e.k0s()()(),e.DNE(183,q,3,1,"div",49),e.j41(184,"div",50)(185,"button",51),e.DNE(186,x,1,0,"span",52),e.EFF(187),e.k0s()()()()()()()()),2&a){let c,u;e.R7$(4),e.Y8G("formGroup",t.form),e.R7$(12),e.Y8G("ngIf",t.submitted&&(null==t.f.name.errors?null:t.f.name.errors.required)),e.R7$(),e.Y8G("ngIf",t.submitted&&(null==t.f.name.errors?null:t.f.name.errors.minlength)),e.R7$(9),e.Y8G("ngIf",t.submitted&&(null==t.f.phone.errors?null:t.f.phone.errors.pattern)),e.R7$(15),e.Y8G("ngIf",t.submitted&&(null==t.f.gender.errors?null:t.f.gender.errors.required)),e.R7$(7),e.Y8G("ngIf",t.submitted&&(null==t.f.dateOfBirth.errors?null:t.f.dateOfBirth.errors.required)),e.R7$(9),e.Y8G("ngForOf",t.classList),e.R7$(),e.Y8G("ngIf",0===t.classList.length&&!t.loading),e.R7$(),e.Y8G("ngIf",t.submitted&&(null==t.f.classId.errors?null:t.f.classId.errors.required)),e.R7$(9),e.Y8G("ngForOf",t.sectionList),e.R7$(),e.Y8G("ngIf",t.submitted&&(null==t.f.section.errors?null:t.f.section.errors.required)),e.R7$(9),e.Y8G("value",!1),e.R7$(2),e.Y8G("value",!0),e.R7$(2),e.Y8G("ngIf",t.showRouteField),e.R7$(5),e.Y8G("value",!1),e.R7$(2),e.Y8G("value",!0),e.R7$(10),e.Y8G("ngIf",t.fileError),e.R7$(),e.Y8G("ngIf",t.imagePreview),e.R7$(11),e.Y8G("ngIf",t.submitted&&(null==t.f.address.errors?null:t.f.address.errors.required)),e.R7$(7),e.Y8G("ngIf",t.submitted&&(null==t.f.city.errors?null:t.f.city.errors.required)),e.R7$(7),e.Y8G("ngIf",t.submitted&&(null==t.f.state.errors?null:t.f.state.errors.required)),e.R7$(7),e.Y8G("ngIf",t.submitted&&(null==t.f.country.errors?null:t.f.country.errors.required)),e.R7$(15),e.Y8G("ngIf",t.submitted&&(null==(c=t.form.get("fatherName"))?null:c.value)&&!(null!=(c=t.form.get("fatherPhone"))&&c.value)),e.R7$(9),e.Y8G("ngIf",t.submitted&&(null==(u=t.form.get("motherName"))?null:u.value)&&!(null!=(u=t.form.get("motherPhone"))&&u.value)),e.R7$(13),e.Y8G("ngIf",t.submitted&&(null==t.f.apaarId.errors?null:t.f.apaarId.errors.pattern)),e.R7$(9),e.Y8G("ngForOf",t.apaarStatusOptions),e.R7$(5),e.Y8G("ngIf",t.serverError),e.R7$(2),e.Y8G("disabled",t.loading||t.form.invalid||!t.selectedFile),e.R7$(),e.Y8G("ngIf",t.loading),e.R7$(),e.SpI(" ",t.loading?"Adding...":"Add Student"," ")}},dependencies:[F.MD,F.Sq,F.bT,r.X1,r.qT,r.xH,r.y7,r.me,r.Q0,r.wz,r.BC,r.cb,r.tU,r.j4,r.JD,h.i],styles:[".form-section[_ngcontent-%COMP%]{border:1px solid #e3e6f0;border-radius:8px;padding:1.5rem;margin-bottom:1.5rem;background:#fafbfe}.form-section[_ngcontent-%COMP%]   legend[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;font-size:.95rem;font-weight:600;text-transform:uppercase;letter-spacing:.8px;padding:.5rem 1rem;border-radius:6px;width:auto;float:none;margin-bottom:1rem}.form-label[_ngcontent-%COMP%]{font-weight:500;color:#2d3748;font-size:.9rem}.form-control[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%]{border:1px solid #cbd5e0}.form-control[_ngcontent-%COMP%]:focus, .form-select[_ngcontent-%COMP%]:focus{border-color:#667eea;box-shadow:0 0 0 .2rem #667eea40}.text-danger[_ngcontent-%COMP%]{font-size:.8rem}.img-thumbnail[_ngcontent-%COMP%]{border:2px solid #e2e8f0;border-radius:8px}.alert-info[_ngcontent-%COMP%]{background:#ebf8ff;border:1px solid #7dc4e4;color:#0c4a6e}button[disabled][_ngcontent-%COMP%]{opacity:.65;cursor:not-allowed}@media (max-width: 576px){.form-section[_ngcontent-%COMP%]{padding:1rem}legend[_ngcontent-%COMP%]{font-size:.85rem;padding:.4rem .8rem}}"]})}}return s})()},3413:(k,C,l)=>{l.d(C,{i:()=>d});var r=l(4438),E=l(177);const f=["headerOptionsTemplate"],F=["headerTitleTemplate"],h=["*"];function e(m,p){}function o(m,p){if(1&m&&(r.j41(0,"div",2),r.SdG(1),r.k0s()),2&m){const v=r.XpG();r.xc7("padding",v.padding(),"px"),r.Y8G("ngClass",v.blockClass())}}let d=(()=>{class m{constructor(){this.backgroundColor="#ffffff",this.cardTitle=(0,r.hFB)(),this.cardClass=(0,r.hFB)(),this.showContent=(0,r.hFB)(!0),this.blockClass=(0,r.hFB)(),this.headerClass=(0,r.hFB)(),this.showHeader=(0,r.hFB)(!0),this.padding=(0,r.hFB)(20)}static{this.\u0275fac=function(g){return new(g||m)}}static{this.\u0275cmp=r.VBU({type:m,selectors:[["app-card"]],contentQueries:function(g,_,j){if(1&g&&(r.wni(j,f,5),r.wni(j,F,5)),2&g){let b;r.mGM(b=r.lsd())&&(_.headerOptionsTemplate=b.first),r.mGM(b=r.lsd())&&(_.headerTitleTemplate=b.first)}},inputs:{backgroundColor:"backgroundColor",cardTitle:[1,"cardTitle"],cardClass:[1,"cardClass"],showContent:[1,"showContent"],blockClass:[1,"blockClass"],headerClass:[1,"headerClass"],showHeader:[1,"showHeader"],padding:[1,"padding"]},ngContentSelectors:h,decls:3,vars:5,consts:[[1,"card",3,"ngClass"],[1,"card-body",3,"ngClass","padding"],[1,"card-body",3,"ngClass"]],template:function(g,_){1&g&&(r.NAR(),r.j41(0,"div",0),r.DNE(1,e,0,0)(2,o,2,3,"div",1),r.k0s()),2&g&&(r.xc7("background",_.backgroundColor),r.Y8G("ngClass",_.cardClass()),r.R7$(),r.vxM(_.showHeader()?1:-1),r.R7$(),r.vxM(_.showContent()?2:-1))},dependencies:[E.MD,E.YU],encapsulation:2})}}return m})()}}]);