<div class="container">
  <h2>Subscription Management</h2>
  <div *ngIf="isLoading" class="spinner">Loading...</div>
  <div *ngIf="!isLoading && !error" class="subscription-form">
    <div class="form-group">
      <label for="schoolSelect">Select a School:</label>
      <select 
        id="schoolSelect" 
        [(ngModel)]="selectedSchoolId" 
        (change)="onSchoolChange()" 
        required
      >
        <option value="">Select a School</option>
        <option *ngFor="let school of schools" [value]="school._id">{{ school.name }}</option>
      </select>
    </div>
    <div class="form-group">
      <label for="planSelect">Plan Type:</label>
      <select 
        id="planSelect" 
        [(ngModel)]="planType" 
        required
      >
        <option value="trial">Trial (30 days)</option>
        <option value="basic">Basic (1 year)</option>
        <option value="premium">Premium (2 years)</option>
      </select>
    </div>
    <div class="form-group">
      <label for="expiresAt">Custom Expiration Date:</label>
      <input 
        id="expiresAt" 
        type="date" 
        [(ngModel)]="expiresAt" 
        placeholder="Custom Expiration Date"
      >
    </div>
    <button (click)="updateSubscription()" [disabled]="!selectedSchoolId || !planType || isLoading">
      Update Subscription
    </button>
  </div>
  <div *ngIf="!isLoading && error" class="error-message">
    {{ error }}
  </div>
</div>